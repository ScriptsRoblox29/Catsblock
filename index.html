<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>CatsBlock</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>

    <div id="toast-container"></div>

    <div id="loading-screen" class="frame">
        <div class="spinner"></div>
    </div>

    <div id="login-frame" class="frame hidden">
        <div class="login-content">
            <h1 class="login-title">Log in to be able to use CatsBlock</h1>
            <button id="btn-google-login" class="btn btn-primary">
                <span class="icon">G</span> Log in with Google
            </button>
            <div class="login-footer">
                By continuing, you agree to our <a href="#" id="link-tos-login">terms of service.</a>
            </div>
        </div>
        <div id="login-loader" class="overlay-loader hidden">
            <div class="spinner"></div>
        </div>
    </div>

    <div id="main-frame" class="frame hidden">
        <header>
            <div class="brand">CatsBlock</div>
            <div class="header-actions">
                <div id="menu-trigger" class="icon-btn">&#8942;</div>
                <div id="main-menu" class="dropdown">
                    <div class="dropdown-item" id="menu-profile">About your profile</div>
                    <div class="dropdown-item" id="menu-settings">Settings</div>
                    <div class="dropdown-item" id="menu-tos">Terms of service</div>
                    <div class="dropdown-item text-red" id="menu-logout">Logout</div>
                </div>
            </div>
        </header>

        <div id="chat-list" class="scroll-area">
            </div>

        <div class="fab" id="btn-new-chat">
            <span>&#9999;</span>
        </div>
    </div>

    <div id="new-chat-modal" class="modal-overlay hidden">
        <div class="modal">
            <div class="modal-header">
                New Conversation
                <span class="modal-close" data-close="new-chat-modal">&times;</span>
            </div>
            <div class="modal-body">
                <p class="modal-desc">To chat with someone, please display your account information.</p>
                
                <div class="input-group">
                    <label>Display name (only shown to you. Max 30 digits.)</label>
                    <input type="text" id="new-chat-name" maxlength="30" minlength="1">
                </div>
                
                <div class="input-group">
                    <label>Account ID</label>
                    <input type="number" id="new-chat-id" placeholder="Ex: 1">
                </div>

                <button class="btn btn-primary full-width" id="btn-start-chat">Start Chat</button>
            </div>
        </div>
    </div>

    <div id="conversation-frame" class="frame hidden">
        <div class="chat-header">
            <div class="chat-back" id="btn-close-chat">&#8592;</div>
            <div class="chat-user-info" id="chat-header-clickable">
                <img src="" alt="" id="chat-header-img">
                <span id="chat-header-name">User</span>
            </div>
            <div class="icon-btn" id="btn-call">&#128222;</div>
        </div>
        <div class="messages-container" id="messages-list">
            </div>
        <div class="chat-input-area">
            <input type="text" id="msg-input" placeholder="Message..." autocomplete="off">
            <button class="btn-text" id="btn-send-msg">Send</button>
        </div>
    </div>

    <div id="settings-frame" class="frame hidden">
        <div class="chat-header">
            <div class="chat-back" id="btn-close-settings">&#8592;</div>
            <span class="header-title">Settings</span>
        </div>
        <div class="settings-content">
            <h3>Display</h3>
            <div class="input-group">
                <label>Dark Mode</label>
                <select id="setting-dark-mode">
                    <option value="off">Disabled</option>
                    <option value="on">Enabled</option>
                </select>
            </div>

            <h3>Privacy</h3>
            <div class="input-group">
                <label>Accept new conversations</label>
                <select id="setting-accept-new">
                    <option value="yes">Yes</option>
                    <option value="no">No</option>
                </select>
            </div>
            <div class="input-group">
                <label>Last seen</label>
                <select id="setting-last-seen">
                    <option value="all">All</option>
                    <option value="nobody">Nobody</option>
                </select>
            </div>
            <button class="btn btn-primary full-width mt-20" id="btn-save-settings">Save</button>
        </div>
    </div>

    <div id="profile-details-modal" class="modal-overlay hidden">
        <div class="modal">
            <div class="modal-header">
                Profile
                <span class="modal-close" data-close="profile-details-modal">&times;</span>
            </div>
            <div class="modal-body center-text">
                <img src="" class="profile-lg-img" id="profile-modal-img">
                <h2 id="profile-modal-name"></h2>
                <div class="profile-stat" id="profile-modal-id"></div>
                <div class="profile-desc" id="profile-modal-desc"></div>
                
                <div class="profile-actions">
                    <button class="btn btn-red-outline" id="btn-block-user">Block this account</button>
                    <button class="btn btn-red-outline" id="btn-report-user">Report this profile</button>
                </div>
            </div>
        </div>
    </div>

    <div id="block-confirm-modal" class="modal-overlay hidden">
        <div class="modal">
            <div class="modal-body">
                <p id="block-confirm-text">Are you sure you want to block this profile?</p>
                <div class="modal-buttons">
                    <button class="btn" data-close="block-confirm-modal">Never mind</button>
                    <button class="btn btn-red" id="btn-confirm-block">Block</button>
                </div>
            </div>
        </div>
    </div>

    <div id="report-modal" class="modal-overlay hidden">
        <div class="modal">
            <div class="modal-header">Report <span class="modal-close" data-close="report-modal">&times;</span></div>
            <div class="modal-body">
                <p>To report this profile, show the conversations as proof and send them to the owner, named fmafioso on TikTok.</p>
            </div>
        </div>
    </div>

    <div id="call-confirm-modal" class="modal-overlay hidden">
        <div class="modal">
            <div class="modal-body">
                <p>Are you sure you want to call the person?</p>
                <div class="modal-buttons">
                    <button class="btn btn-primary" id="btn-confirm-call">Call</button>
                    <button class="btn" data-close="call-confirm-modal">Never mind</button>
                </div>
            </div>
        </div>
    </div>

    <div id="calling-frame" class="frame hidden calling-ui">
        <div class="calling-info">
            <p class="status-text">Calling...</p>
            <img src="" class="calling-avatar" id="calling-avatar-img">
            <h3 id="calling-name">User</h3>
        </div>
        <div class="call-controls">
            <button class="btn-circle btn-hangup" id="btn-hangup">&#128222;</button>
        </div>
    </div>

    <div id="incoming-call-overlay" class="hidden">
        <div class="incoming-info">
            <img src="" class="calling-avatar small" id="incoming-avatar">
            <h2 id="incoming-name">Incoming Call...</h2>
        </div>
        <div class="slide-area">
            <div class="slide-col">
                <div class="btn-circle btn-decline" id="btn-decline-call">&#128222;</div>
                <span class="slide-hint">Hold to decline</span>
            </div>
            <div class="slide-col">
                <div class="btn-circle btn-answer" id="btn-answer-call">&#128222;</div>
                <span class="slide-hint">Hold to answer</span>
            </div>
        </div>
    </div>

    <script type="module" src="app.js"></script>
</body>
      </html>

